# 消息积压如何处理

#### 优化性能来避免消息积压

+ 发送端性能优化

1. 设置合适的并发和批量大小

+ 消费端性能优化

1. 一定要保证消费端的消费性能要高于生产端的发送性能，这样的系统才能健康的持续运行。
2. 通过水平扩容，增加消费端的并发数来提升总体的消费性能。特别需要注意的一点是，在扩容 Consumer 的实例数量的同时，必须同步扩容主题中的分区（也叫队列）数量，确保 Consumer 的实例数和分区数量是相等的。

